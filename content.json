{"meta":{"title":"Hexo","subtitle":"","description":"","author":"afa","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"MySQL连接错误解决方法","slug":"MySQL连接错误解决方法","date":"2020-03-28T12:32:48.038Z","updated":"2020-03-28T12:33:08.411Z","comments":true,"path":"2020/03/28/MySQL连接错误解决方法/","link":"","permalink":"http://yoursite.com/2020/03/28/MySQL%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/","excerpt":"","text":"##软件环境 操作系统：Ubuntu16.04-server MySQL版本：5.7.25##故障一只能通过localhost登录MySQL 报错如下 $mysql -h172.16.0.1 -uroot -p123456mysql: [Warning] Using a password on the command line interface can be insecure.ERROR 1130 (HY000): Host ‘172.16.0.1’ is not allowed to connect to this MySQL server 解决方法此处参考自：https://stackoverflow.com/questions/19101243/error-1130-hy000-host-is-not-allowed-to-connect-to-this-mysql-server 首先查看你的root用户允许的主机ip mysql&gt;SELECT host FROM mysql.user WHERE User = ‘root’; +———–+| host |+———–+| localhost |+———–+1 row in set (0.24 sec)一般结果中只有localhost或同时有localhost和127.0.0.1； 然后如果你想指定允许某个ip可访问可执行如下命令 CREATE USER &#39;root&#39;@&#39;ip_address&#39; IDENTIFIED BY &#39;some_pass&#39;;GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;ip_address&#39;; 如果想要允许所有ip执行如下命令 CREATE USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;some_pass&#39;;GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39;; 上面两种最后都要flush启用更改 FLUSH PRIVILEGES; 然后在执行一次查询会发现结果多了一行“%”，说明更改成功 +———–+| host |+———–+| % |+———–+| localhost |+———–+1 row in set (0.24 sec)再次登录如果仍旧失败，请看故障2 故障二 报错如下 $mysql -h172.16.0.1 -uroot -p123456mysql: [Warning] Using a password on the command line interface can be insecure.ERROR 2003 (HY000): Can’t connect to MySQL server on ‘172.16.0.1’ (111) 解决方法 查看mysql的配置文件 $vim /etc/mysql/mysql.conf.d/mysqld.cnf 将下面一行注释或者修改 注释#bind-address = 127.0.0.1修改bind-address = 0.0.0.0 重启mysql启用更改 $service mysql restart 再次尝试登录即可成功登录！","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2020-03-28T12:14:29.799Z","updated":"2020-03-28T12:14:29.799Z","comments":true,"path":"2020/03/28/hello-world/","link":"","permalink":"http://yoursite.com/2020/03/28/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[]}